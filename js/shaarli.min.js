!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){!function(){var e=function(t,n){var i=this;e.count=(e.count||0)+1,this.count=e.count,this.isOpened=!1,this.input=o(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-expanded","false"),this.input.setAttribute("aria-owns","awesomplete_list_"+this.count),this.input.setAttribute("role","combobox"),this.options=n=n||{},function(t,e,n){for(var i in e){var o=e[i],r=t.input.getAttribute("data-"+i.toLowerCase());t[i]="number"==typeof o?parseInt(r):!1===o?null!==r:o instanceof Function?null:r,t[i]||0===t[i]||(t[i]=i in n?n[i]:o)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:e.DATA,filter:e.FILTER_CONTAINS,sort:!1!==n.sort&&e.SORT_BYLENGTH,container:e.CONTAINER,item:e.ITEM,replace:e.REPLACE,tabSelect:!1},n),this.index=-1,this.container=this.container(t),this.ul=o.create("ul",{hidden:"hidden",role:"listbox",id:"awesomplete_list_"+this.count,inside:this.container}),this.status=o.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-atomic":!0,inside:this.container,textContent:0!=this.minChars?"Type "+this.minChars+" or more characters for results.":"Begin typing for results."}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;i.opened&&(13===e&&i.selected?(t.preventDefault(),i.select(void 0,void 0,t)):9===e&&i.selected&&i.tabSelect?i.select(void 0,void 0,t):27===e?i.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),i[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){t.preventDefault()},click:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),i.select(e,t.target,t))}}}},o.bind(this.input,this._events.input),o.bind(this.input.form,this._events.form),o.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],e.all.push(this)};function n(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}e.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if((t=o(t))&&t.children){var e=[];i.apply(t.children).forEach((function(t){if(!t.disabled){var n=t.textContent.trim(),i=t.value||n,o=t.label||n;""!==i&&e.push({label:o,value:i})}})),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(t){this.opened&&(this.input.setAttribute("aria-expanded","false"),this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,this.status.setAttribute("hidden",""),o.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.input.setAttribute("aria-expanded","true"),this.ul.removeAttribute("hidden"),this.isOpened=!0,this.status.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),o.fire(this.input,"awesomplete-open")},destroy:function(){if(o.unbind(this.input,this._events.input),o.unbind(this.input.form,this._events.form),!this.options.container){var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container)}this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var n=e.all.indexOf(this);-1!==n&&e.all.splice(n,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.ul.children.length,e=this.index-1;this.goto(this.selected&&-1!==e?e:t-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent+", list item "+(t+1)+" of "+e.length,this.input.setAttribute("aria-activedescendant",this.ul.id+"_item_"+this.index),this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,o.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e,n){if(t?this.index=o.siblingIndex(t):t=this.ul.children[this.index],t){var i=this.suggestions[this.index];o.fire(this.input,"awesomplete-select",{text:i,origin:e||t,originalEvent:n})&&(this.replace(i),this.close({reason:"select"}),o.fire(this.input,"awesomplete-selectcomplete",{text:i,originalEvent:n}))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map((function(i){return new n(t.data(i,e))})).filter((function(n){return t.filter(n,e)})),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach((function(n,i){t.ul.appendChild(t.item(n,e,i))})),0===this.ul.children.length?(this.status.textContent="No results found",this.close({reason:"nomatches"})):(this.open(),this.status.textContent=this.ul.children.length+" results found")):(this.close({reason:"nomatches"}),this.status.textContent="No results found")}},e.all=[],e.FILTER_CONTAINS=function(t,e){return RegExp(o.regExpEscape(e.trim()),"i").test(t)},e.FILTER_STARTSWITH=function(t,e){return RegExp("^"+o.regExpEscape(e.trim()),"i").test(t)},e.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},e.CONTAINER=function(t){return o.create("div",{className:"awesomplete",around:t})},e.ITEM=function(t,e,n){var i=""===e.trim()?t:t.replace(RegExp(o.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return o.create("li",{innerHTML:i,role:"option","aria-selected":"false",id:"awesomplete_list_"+this.count+"_item_"+n})},e.REPLACE=function(t){this.input.value=t.value},e.DATA=function(t){return t},Object.defineProperty(n.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),n.prototype.toString=n.prototype.valueOf=function(){return""+this.label};var i=Array.prototype.slice;function o(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function r(t,e){return i.call((e||document).querySelectorAll(t))}function l(){r("input.awesomplete").forEach((function(t){new e(t)}))}o.create=function(t,e){var n=document.createElement(t);for(var i in e){var r=e[i];if("inside"===i)o(r).appendChild(n);else if("around"===i){var l=o(r);l.parentNode.insertBefore(n,l),n.appendChild(l),null!=l.getAttribute("autofocus")&&l.focus()}else i in n?n[i]=r:n.setAttribute(i,r)}return n},o.bind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach((function(e){t.addEventListener(e,i)}))}},o.unbind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach((function(e){t.removeEventListener(e,i)}))}},o.fire=function(t,e,n){var i=document.createEvent("HTMLEvents");for(var o in i.initEvent(e,!0,!0),n)i[o]=n[o];return t.dispatchEvent(i)},o.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},o.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof self&&(self.Awesomplete=e),"undefined"!=typeof Document&&("loading"!==document.readyState?l():document.addEventListener("DOMContentLoaded",l)),e.$=o,e.$$=r,t.exports&&(t.exports=e)}()},,,,,function(t,e,n){n(6),n(7),n(8),n(9),t.exports=n(10)},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i);function r(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e,n){for(var i=function(e){return""!==n[e]&&-1!==t.getAttribute(e).indexOf(n[e])};t;){if(t.tagName.toLowerCase()===e&&Object.keys(n).find(i))return t;t=t.parentElement}return null}function s(t,e){var n=new XMLHttpRequest;n.open("GET","".concat(t,"/admin/token")),n.onload=function(){r(document.querySelectorAll('input[name="token"]')).forEach((function(t){t.setAttribute("value",n.responseText)})),e&&e(n.response)},n.send()}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new o.a(o.a.$(t));n.filter=function(t,e){return o.a.FILTER_CONTAINS(t,e.match(/[^ ]*$/)[0])},n.replace=function(t){var e=n.input.value.match(/^.+ \s*|/)[0];n.input.value="".concat(e).concat(t," ")},n.item=function(t,e){return o.a.ITEM(t,e.match(/[^ ]*$/)[0])};var i,r=/(\w+) /g;return n.data=function(t,e){for(;i=r.exec(e);)if(t===i[1])return"";return t},n.minChars=1,e.length&&(n.list=e),n}function u(t,e,n){0===n.length?r(document.querySelectorAll(t)).forEach((function(t){n.push(c(t,e))})):n.map((function(t){return t.list=e,t}));return n}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!0;null==n&&(n=!1),r(t).forEach((function(t){t.getAttribute("data-continent")!==e?t.className="hidden":(t.className="",!0===n&&!0===i&&(t.setAttribute("selected","selected"),i=!1))}))}function f(t,e){var n=t.parentNode;return null==n||n.classList.contains(e)?n:f(n,e)}function h(){r(document.getElementById("shaarli-menu").querySelectorAll(".menu-transform")).forEach((function(t){t.classList.toggle("pure-menu-horizontal")}))}function p(t){t.classList.contains("open")?setTimeout(h,500):h(),t.classList.toggle("open"),document.getElementById("menu-toggle").classList.toggle("x")}function m(t,e,n){t.classList.contains("fa-chevron-up")?(t.title=document.getElementById("translation-expand").innerHTML,null!=e&&(e.style.display="none"),null!=n&&(n.style.display="none")):(t.title=document.getElementById("translation-fold").innerHTML,null!=e&&(e.style.display="block"),null!=n&&(n.style.display="block")),t.classList.toggle("fa-chevron-down"),t.classList.toggle("fa-chevron-up")}!function(){var t=document.querySelector('input[name="js_base_path"]').value,e=document.getElementById("shaarli-menu"),n="onorientationchange"in window?"orientationchange":"resize",i=document.getElementById("menu-toggle");null!=i&&i.addEventListener("click",(function(){return p(e)})),window.addEventListener(n,(function(){return function(t){t.classList.contains("open")&&p(t)}(e)}));var o=document.getElementsByClassName("fold-all"),l=document.getElementsByClassName("fold-button");r(l).forEach((function(t){var e=null,n=null,i=f(t,"linklist-item");null!=i&&(e=i.querySelector(".linklist-item-description"),n=i.querySelector(".linklist-item-thumbnail"),null==e&&null==n||(t.style.display="inline")),t.addEventListener("click",(function(t){t.preventDefault(),m(t.target,e,n)}))})),null!=o&&[].forEach.call(o,(function(t){t.addEventListener("click",(function(e){e.preventDefault();var n=-1!==t.firstElementChild.getAttribute("class").indexOf("down")?"down":"up";[].forEach.call(l,(function(t){if(!(t.firstElementChild.classList.contains("fa-chevron-up")&&"down"===n||t.firstElementChild.classList.contains("fa-chevron-down")&&"up"===n)){var e=null,i=null,o=f(t,"linklist-item");null!=o&&(e=o.querySelector(".linklist-item-description"),i=o.querySelector(".linklist-item-thumbnail"),null==e&&null==i||(t.style.display="inline")),m(t.firstElementChild,e,i)}})),t.firstElementChild.classList.toggle("fa-chevron-down"),t.firstElementChild.classList.toggle("fa-chevron-up"),t.title="down"===n?document.getElementById("translation-fold-all").innerHTML:document.getElementById("translation-expand-all").innerHTML}))})),r(document.querySelectorAll(".confirm-delete")).forEach((function(t){t.addEventListener("click",(function(t){confirm(document.getElementById("translation-delete-link").innerHTML)||t.preventDefault()}))})),r(document.querySelectorAll(".pure-alert-close")).forEach((function(t){t.addEventListener("click",(function(t){f(t.target,"pure-alert-closable").style.display="none"}))}));var h=document.getElementById("new-version-dismiss"),g=document.querySelector(".new-version-message");null!=g&&null!=localStorage.getItem("newVersionDismiss")&&parseInt(localStorage.getItem("newVersionDismiss"),10)+6048e5>(new Date).getTime()&&(g.style.display="none"),null!=h&&h.addEventListener("click",(function(){localStorage.setItem("newVersionDismiss",(new Date).getTime().toString())}));var v=document.getElementsByName("returnurl");null!=v&&(v.value=window.location.href);var y=document.querySelectorAll(".autofocus"),E=!1;[].forEach.call(y,(function(t){""!==t.value||E||(t.focus(),E=!0)}));var b=document.getElementsByClassName("subheader-opener");if(null!=b&&r(b).forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault();var n=t.getAttribute("data-open-id"),i=document.getElementById(n);null!=i&&(r(document.getElementsByClassName("subheader-form")).forEach((function(t){t!==i&&function(t,e){t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?:\\s|$)"))," ")}(t,"open")})),i.classList.toggle("open"))}))})),""!==location.hash){var A=document.getElementById(location.hash.substr(1));if(null!=A){var w=A.clientHeight;window.scroll(0,window.scrollY-w),A.style.paddingTop="0"}}var x=document.getElementById("lf_description");null!=x&&(!function(t){function e(){var e=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop;t.style.height="auto",t.style.height="".concat(t.scrollHeight+10,"px"),window.scrollTo(0,e)}function n(){window.setTimeout(e,0)}var i=function(t,e,n){t.addEventListener(e,n,!1)};i(t,"change",e),i(t,"cut",n),i(t,"paste",n),i(t,"drop",n),i(t,"keydown",n),e()}(x),x.addEventListener("keydown",(function(t){t.ctrlKey&&13===t.keyCode&&document.getElementById("button-save-edit").click()})));var k=document.querySelectorAll(".bookmarklet-link"),L=document.getElementById("bookmarklet-alert");[].forEach.call(k,(function(t){t.addEventListener("click",(function(t){t.preventDefault(),alert(L.value)}))}));var S=document.getElementById("continent"),I=document.getElementById("city");null!=S&&null!=I&&(S.addEventListener("change",(function(){d(I,S.options[S.selectedIndex].value,!0)})),d(I,S.options[S.selectedIndex].value,!1));var T=document.querySelectorAll(".link-checkbox"),C=document.getElementById("actions");r(T).forEach((function(t){t.style.display="inline-block",t.addEventListener("change",(function(){var t=r(document.querySelectorAll(".link-checkbox:checked")).length;(0===t&&C.classList.contains("open")||t>0&&!C.classList.contains("open"))&&C.classList.toggle("open")}))}));var q=document.getElementById("actions-delete"),_=document.getElementById("token");null!=q&&null!=_&&q.addEventListener("click",(function(e){e.preventDefault();var n=[];r(document.querySelectorAll(".link-checkbox:checked")).forEach((function(t){n.push({id:t.value,title:document.querySelector('.linklist-item[data-id="'.concat(t.value,'"] .linklist-link')).innerHTML})}));var i="Are you sure you want to delete ".concat(n.length," links?\n");i+="This action is IRREVERSIBLE!\n\nTitles:\n";var o=[];n.forEach((function(t){i+="  - ".concat(t.title,"\n"),o.push(t.id)})),window.confirm(i)&&(window.location="".concat(t,"/admin/shaare/delete?id=").concat(o.join("+"),"&token=").concat(_.value))}));var B=document.querySelectorAll(".actions-change-visibility");null!=B&&null!=_&&r(B).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=e.target.getAttribute("data-visibility"),i=[];r(document.querySelectorAll(".link-checkbox:checked")).forEach((function(t){i.push({id:t.value,title:document.querySelector('.linklist-item[data-id="'.concat(t.value,'"] .linklist-link')).innerHTML})}));var o=i.map((function(t){return t.id}));window.location="".concat(t,"/admin/shaare/visibility?token=").concat(_.value,"&newVisibility=").concat(n,"&id=").concat(o.join("+"))}))}));var O=document.querySelectorAll(".select-all-button");r(O).forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault();var n=t.classList.contains("filter-off");r(O).forEach((function(t){t.classList.toggle("filter-off"),t.classList.toggle("filter-on")})),r(T).forEach((function(t){t.checked=n,t.dispatchEvent(new Event("change"))}))}))}));var N=document.querySelector('input[name="taglist"]'),R=N?N.value.split(" "):[],D=[];r(document.querySelectorAll(".rename-tag")).forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var e=a(t.target,"div",{class:"tag-list-item"}),n=e.querySelector(".rename-tag-form");"none"===n.style.display||""===n.style.display?n.style.display="block":n.style.display="none",e.querySelector("input").focus()}))})),r(document.querySelectorAll(".validate-rename-tag")).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=a(e.target,"div",{class:"tag-list-item"}),i=n.querySelector(".rename-tag-input"),o=i.value.replace('/"/g','\\"');if(""!==o.trim()){var r=document.getElementById("token").value,l=n.getAttribute("data-tag"),c=new XMLHttpRequest;c.open("POST","".concat(t,"/admin/tags")),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onload=function(){200!==c.status?(alert("An error occurred. Return code: ".concat(c.status)),location.reload()):(n.setAttribute("data-tag",o),i.setAttribute("name",o),i.setAttribute("value",o),a(i,"div",{class:"rename-tag-form"}).style.display="none",n.querySelector("a.tag-link").innerHTML=o.replace(/[\u00A0-\u9999<>&]/gim,(function(t){return"&#".concat(t.charCodeAt(0),";")})),n.querySelector("a.tag-link").setAttribute("href","".concat(t,"/?searchtags=").concat(encodeURIComponent(o))),n.querySelector("a.rename-tag").setAttribute("href","".concat(t,"/admin/tags?fromtag=").concat(encodeURIComponent(o))),R=R.map((function(t){return t===l?o:t})),D=u(".rename-tag-input",R,D))},c.send("renametag=1&fromtag=".concat(encodeURIComponent(l),"&totag=").concat(encodeURIComponent(o),"&token=").concat(r)),s(t)}}))})),r(document.querySelectorAll(".rename-tag-input")).forEach((function(t){t.addEventListener("keypress",(function(t){13===t.keyCode&&a(t.target,"div",{class:"tag-list-item"}).querySelector(".validate-rename-tag").click()}))})),r(document.querySelectorAll(".delete-tag")).forEach((function(e){e.style.display="inline",e.addEventListener("click",(function(e){e.preventDefault();var n=a(e.target,"div",{class:"tag-list-item"}),i=n.getAttribute("data-tag"),o=document.getElementById("token").value;if(confirm('Are you sure you want to delete the tag "'.concat(i,'"?'))){var r=new XMLHttpRequest;r.open("POST","".concat(t,"/admin/tags")),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){n.remove()},r.send(encodeURI("deletetag=1&fromtag=".concat(i,"&token=").concat(o))),s(t),R=R.filter((function(t){return t!==i})),D=u(".rename-tag-input",R,D)}}))})),r(document.querySelectorAll("input[data-multiple]")).forEach((function(t){D.push(c(t))}));var H=document.querySelector("#exportform");null!=H&&H.addEventListener("submit",(function(e){e.preventDefault(),s(t,(function(){e.target.submit()}))}))}()},function(t,e,n){},function(t,e){t.exports="tpl/default/img/../img/apple-touch-icon.png"},function(t,e){t.exports="tpl/default/img/../img/favicon.png"},function(t,e){t.exports="tpl/default/img/../img/sad_star.png"}]);